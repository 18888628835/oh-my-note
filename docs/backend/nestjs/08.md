# å†…ç½®è£…é¥°å™¨

## @Module

@Module å£°æ˜æ¨¡å—

```ts
@Module({
  imports: [],
  controllers: [AppController],
  providers: [AppService],
})
```

## @Controller

å£°æ˜ Controller

```typescript
@Controller()
export class AppController {
  constructor(private readonly appService: AppService) {}
}
```

@Controller() è£…é¥°å™¨å†…è¿˜å¯ä»¥ä¼ å…¥ä¸€äº›å±æ€§ï¼Œæ¯”å¦‚æŒ‡å®š path

```typescript
@Controller({ path: 'admin' })
```

è¿™æ ·å°±ç›¸å½“äºåœ¨åŸæœ‰è·¯ç”±çš„åŸºç¡€ä¸Šé¢å¤–å¢åŠ  admin è·¯ç”±ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œå½“å‰çš„è·¯ç”±è®¿é—®`http://127.0.0.1:3000/hello`å¯ä»¥è·å–åˆ° `Hello World`ï¼š

```typescript
@Controller()
export class AppController {
  constructor(@Inject('AppService') private readonly appService: AppService) {}

  @Get('/hello')
  getHello(): string {
    return this.appService.getHello()
  }
}
```

å½“åŠ å…¥ path åï¼š

```diff
- @Controller()
+ @Controller({ path: 'admin' })
export class AppController {
  constructor(@Inject('AppService') private readonly appService: AppService) {}

  @Get('/hello')
  getHello(): string {
    return this.appService.getHello();
  }
}
```

å°±éœ€è¦è®¿é—®`http://127.0.0.1:3000/admin/hello`æ‰èƒ½è·å–åˆ°äº†ã€‚

## @Injectable

å£°æ˜ provider

```typescript
@Injectable()
export class AppService {
  getHello(): string {
    return 'Hello World!'
  }
}
```

åªè¦æ˜¯ classï¼Œéƒ½å¯ä»¥ç”¨ @Injectable è¡¨ç¤ºè¯¥ class æ˜¯å¯æ³¨å…¥åˆ°å…¶ä»–æ¨¡å—çš„ã€‚

## @Inject

æ³¨å…¥æ—¶å¯ä»¥ä½¿ç”¨@Inject

```typescript
export class AppController {
  @Inject(AppService)
  private readonly appService: AppService
}
```

æ•ˆæœç›¸å½“äºä½¿ç”¨æ„é€ å™¨

```typescript
@Controller()
export class AppController {
  constructor(private readonly appService: AppService) {}

  @Get()
  getHello(): string {
    return this.appService.getHello()
  }
}
```

å¦‚æœ token æ˜¯å­—ç¬¦ä¸²çš„è¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¼ å…¥ token æ¥æ³¨å…¥ï¼š

tokenï¼š

```typescript
@Module({
  imports: [],
  controllers: [AppController],
  providers: [{ provide: 'AppService', useClass: AppService }],
})
```

æ³¨å…¥ tokenï¼š

```typescript
export class AppController {
  @Inject('AppService')
  private readonly appService: AppService

  @Get()
  getHello(): string {
    return this.appService.getHello()
  }
}
```

## @Optional

å¦‚æœä¼ å…¥ä¸æ­£ç¡®çš„ tokenï¼Œåˆ›å»º`AppController`æ—¶ä¼šæŠ¥é”™ï¼Œä½†å¦‚æœå®ƒæ˜¯å¯é€‰çš„ï¼Œå°±å¯ä»¥ä½¿ç”¨@Optional å£°æ˜ä¸€ä¸‹ï¼Œè¿™æ ·æ²¡æœ‰å¯¹åº”çš„ provider ä¹Ÿèƒ½æ­£å¸¸åˆ›å»ºè¿™ä¸ªå¯¹è±¡ã€‚

```typescript
@Controller()
export class AppController {
  @Optional()
  @Inject('service')
  private readonly service: Record<string, any>

  constructor(@Optional() @Inject('AppService') private readonly appService: AppService) {}

  @Get()
  getHello(): string {
    return this.appService.getHello()
  }
}
```

## @Global

ç”¨@Global æ¥å£°æ˜å…¨å±€æ¨¡å—ï¼Œè¿™æ ·å®ƒ exports çš„ provider å°±å¯ä»¥ç›´æ¥æ³¨å…¥æ— éœ€ imports äº†

```typescript
@Global()
@Module({
  imports: [],
  controllers: [AppController],
  providers: [AppService],
  exports: [AppService],
})
```

## @Catch

filter æ˜¯å¤„ç†æŠ›å‡ºçš„æœªæ•è·å¼‚å¸¸çš„ï¼Œé€šè¿‡ @Catch æ¥æŒ‡å®šå¤„ç†çš„å¼‚å¸¸ï¼š

```typescript
@Catch(HttpException)
export class HttpExceptionFilter implements ExceptionFilter {
  catch(exception: HttpException, host: ArgumentsHost) {
    const ctx = host.switchToHttp()
    const response = ctx.getResponse()
    const request = ctx.getRequest()
    const status = exception.getStatus()
    response.status(status).json({
      statusCode: status,
      path: request.url,
      message: exception.message,
    })
  }
}
```

## @UseFilters

filter é€šè¿‡ @UseFilters åº”ç”¨åˆ° handler ä¸Šï¼š

```typescript
  @Get()
  @UseFilters(HttpExceptionFilter)
  getHello(): string {
    throw new HttpException('Error', HttpStatus.BAD_REQUEST);
    return this.appService.getHello();
  }
```

## @UseGuards

è·¯ç”±å®ˆå«

```typescript
@Controller()
export class AppController {
  @Get()
  @UseGuards(RolesGuard)
  getHello(): string {
    return 'Hello World!'
  }
}
```

## @UseInterceptors

æ‹¦æˆªå™¨

```typescript
@Controller()
export class AppController {
  @Get()
  @UseInterceptors(new RouteInterceptor())
  getHello(): string {
    return 'Hello World!'
  }
}
```

## @UsePipes

Pipe

```typescript
  @Post()
  @UsePipes(AppPipe)
  async create(@Body() createUser: CreateUserDto) {
    // ...
  }
```

## @Param

å–å‡º paramï¼ŒåŒæ—¶æ”¯æŒ Pipe åœ¨å•ä¸ª param ä¸Šçš„åº”ç”¨

```ts
  @Get(':id')
  getHello(
    @Param('id', IdPipe) id: string,
    @Query('name') name: string,
  ): string {
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” name:', name);
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” id:', id);
    return this.appService.getHello();
  }
```

## @Query

å–å‡º Queryï¼ŒåŒæ—¶æ”¯æŒ Pipe åœ¨å•ä¸ª Query ä¸Šçš„åº”ç”¨

```typescript
  @Get(':id')
  getHello(
    @Param('id') id: string,
    @Query('name', QueryPipe) name: string,
  ): string {
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” name:', name);
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” id:', id);
    return this.appService.getHello();
  }
```

## @Body

ä»è¯·æ±‚ä½“ä¸­å–å‡ºå¯¹åº”çš„æ•°æ®

```typescript
@Controller('user')
export class UserController {
  @Post('get')
  body(@Body() getPersonDto: PersonDto) {
    return `received: ${JSON.stringify(getPersonDto)}`
  }
}
```

ç±»å‹åˆ™å®šä¹‰åœ¨ dto ä¸­ï¼š

```typescript
// src/dto/person.dto.ts

export class PersonDto {
  name: string
  age: number
}
```

## @[Method]

é™¤äº† @Getã€@Post å¤–ï¼Œè¿˜å¯ä»¥ç”¨ @Putã€@Deleteã€@Patchã€@Optionsã€@Head è£…é¥°å™¨

## @SetMetadata

handler å’Œ class å¯ä»¥é€šè¿‡ @SetMetadata æŒ‡å®š metadataï¼š

```typescript
@Controller()
@UseGuards(AppGuard)
@SetMetadata('roles', 'user')
export class AppController {
  constructor(@Inject('AppService') private readonly appService: AppService) {}

  @Get('/hello')
  @SetMetadata('roles', 'admin')
  getHello(): string {
    return this.appService.getHello()
  }
}
```

metadata å¯ä»¥åœ¨ guard æˆ–è€… Interceptor ä¸­å–å‡ºæ¥ï¼š

```typescript
@Injectable()
export class AppGuard implements CanActivate {
  @Inject(Reflector)
  private readonly reflector: Reflector
  canActivate(ctx: ExecutionContext): boolean | Promise<boolean> | Observable<boolean> {
    const classMetadata = this.reflector.get('roles', ctx.getClass())
    const methodMetadata = this.reflector.get('roles', ctx.getHandler())
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” classMetadata:', classMetadata)
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” methodMetadata:', methodMetadata)
    return true
  }
}
```

å¾—åˆ°çš„ç»“æœï¼š

```bash
â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” classMetadata: user
â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” methodMetadata: admin
```

## @Headers

é€šè¿‡ @Headers è£…é¥°å™¨å–æŸä¸ªè¯·æ±‚å¤´ æˆ–è€…å…¨éƒ¨è¯·æ±‚å¤´:

```typescript
  @Get('/hello')
  getHello(
    @Headers('Accept') accept: string,
    @Headers() headers: Headers,
  ): string {
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” accept:', accept);
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” headers:', headers);
    return this.appService.getHello();
  }
```

## @Ip

è·å–è¯·æ±‚ IP åœ°å€

```typescript
  @Get('/ip')
  getIp(@Ip() ip: string): string {
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” ip:', ip);
    return ip;
  }
```

## @Session

åˆ©ç”¨@Session è£…é¥°å™¨å¯ä»¥è·å–åˆ° session å¯¹è±¡ã€‚

åœ¨ä½¿ç”¨ session ä¹‹å‰ï¼Œéœ€è¦å®‰è£…ä¸€ä¸ªæ’ä»¶ï¼š

```bash
pnpm install express-session
```

åœ¨ `main.ts` é‡Œå¼•å…¥å¹¶å¯ç”¨è¯¥æ’ä»¶ï¼š

```typescript
async function bootstrap() {
  const app = await NestFactory.create(AppModule)
  app.use(
    session({
      secret: 'secret',
      cookie: { maxAge: 60000 },
    }),
  )
  await app.listen(3000)
}
```

ä¸Šé¢çš„ä»£ç æŒ‡å®šäº†å¯†é’¥è·Ÿ cookie çš„è¿‡æœŸæ—¶é—´ã€‚

æ¥ç€åˆ·æ–°é¡µé¢ï¼š

![image-20231006111348925](https://raw.githubusercontent.com/18888628835/image-cloud/main/assets202310061113539.png)

å¯ä»¥çœ‹åˆ° Response é‡Œå·²ç»è®¾ç½®äº† cookie ä¿¡æ¯ã€‚

ä¹‹åçš„æ¯æ¬¡è¯·æ±‚æµè§ˆå™¨éƒ½ä¼šè‡ªåŠ¨åœ¨ request header ä¸­å¸¦ä¸Š cookieã€‚

![2023-10-06.111932](https://raw.githubusercontent.com/18888628835/image-cloud/main/assets202310061119059.png)

ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥è¯»å–å’Œè®¾ç½® session å•¦

```typescript
  @Get('/session')
  getSession(@Session() se: Record<string, any>) {
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” se:', se.id);
    if (!se.count) {
      se.count = 0;
    }
    se.count += 1;
    return { count: se.count, id: se.id };
  }
```

ç¬¬ä¸€æ¬¡çš„ç»“æœï¼š

```typescript
{
"count": 1,
"id": "GSNcXmu4fHQLVtxVKCc3QIbp38m4l1Zh"
}
```

åªè¦åœ¨åŒä¸€ä¸ªæ²¡æœ‰è¿‡æœŸçš„ä¼šè¯ä¸­ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šè®© count+1ï¼Œè€Œ id ä¸å˜ï¼š

```typescript
// ç¬¬äºŒæ¬¡è¯·æ±‚
{
"count": 2,
"id": "GSNcXmu4fHQLVtxVKCc3QIbp38m4l1Zh"
}
```

## @HostParam

åœ¨@Controller è£…é¥°å™¨å†…è¿˜å¯ä»¥æŒ‡å®šç”Ÿæ•ˆçš„ pathï¼š

```typescript
@Controller({ host: ':host.0.0.1' })
export class AppController {
  constructor(@Inject('AppService') private readonly appService: AppService) {}

  @Get('/hello')
  getHello(): string {
    return this.appService.getHello()
  }
}
```

ç°åœ¨ä»…èƒ½é€šè¿‡`xxx.0.0.1`è®¿é—®è·¯ç”±æ‰æœ‰æ•ˆï¼Œé€šè¿‡`localhost`è®¿é—®æ˜¯æ— æ•ˆçš„ã€‚

![Oct-06-2023 11-48-41](https://raw.githubusercontent.com/18888628835/image-cloud/main/assets202310061150759.gif)

host é‡Œçš„å‚æ•°å°±å¯ä»¥é€šè¿‡ @HostParam å–å‡ºæ¥ï¼š

```typescript
@Controller({ host: ':host.0.0.1' })
export class AppController {
  constructor(@Inject('AppService') private readonly appService: AppService) {}

  @Get('/hello')
  getHello(@HostParam('host') host): string {
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” host:', host)
    return this.appService.getHello()
  }
}
```

è®¿é—®åçš„ç»“æœä¸ºï¼š

```bash
â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” host: 127
```

## @Req

åƒ`@Headers`ã€`@Body`ã€`@Ip`ç­‰è£…é¥°å™¨éƒ½å¸®æˆ‘ä»¬å¿«é€Ÿä» request å¯¹è±¡ä¸­è·å–ä¿¡æ¯ã€‚å¦‚æœæˆ‘ä»¬æƒ³è‡ªå·±è·å–ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œ`@Req` å°±æ˜¯å°† Request å¯¹è±¡æ³¨å…¥è¿›æ¥çš„è£…é¥°å™¨ã€‚

```typescript
  @Get('/hello')
  getHello(@Req() req: Request): string {
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” req:', req);
    return this.appService.getHello();
  }
```

é€šè¿‡ @Req æˆ–è€… @Request è£…é¥°å™¨ï¼Œè¿™ä¿©æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œnest æºç é‡Œæœ‰ç±»å‹å£°æ˜ï¼š

```typescript
export declare const Request: () => ParameterDecorator
export declare const Req: () => ParameterDecorator
```

æ³¨å…¥ request å¯¹è±¡åï¼Œå¯ä»¥æ‰‹åŠ¨å–ä»»ä½•å‚æ•°ã€‚

## @Res

@Res å’Œ @Response ä¹Ÿæ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼š

```typescript
export declare const Response: (options?: ResponseDecoratorOptions) => ParameterDecorator
export declare const Res: (options?: ResponseDecoratorOptions) => ParameterDecorator
```

ä½†æ³¨å…¥ response å¯¹è±¡åéœ€è¦æ‰‹åŠ¨è°ƒç”¨æ‰èƒ½å“åº”è€Œä¸æ˜¯ç›´æ¥ `return` ï¼š

```typescript
  @Get('/hello')
  getHello(@Req() req: Request, @Res() res: Response) {
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” req:', req);
    // return this.appService.getHello();
    res.end(this.appService.getHello());
  }
```

Nest è¿™ä¹ˆè®¾è®¡æ˜¯ä¸ºäº†é¿å…ä½ è‡ªå·±è¿”å›çš„å“åº”å’Œ Nest è¿”å›çš„å“åº”çš„å†²çªã€‚

å¦‚æœä½ ä¸ä¼šè‡ªå·±è¿”å›å“åº”ï¼Œå¯ä»¥é€šè¿‡ passthrough å‚æ•°å‘Šè¯‰ Nestï¼š

```typescript
  @Get('/hello')
  getHello(@Req() req: Request, @Res({ passthrough: true }) res: Response) {
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” res:', res);
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” req:', req);
    return this.appService.getHello();
  }
```

ç°åœ¨èƒ½å¤Ÿæ­£å¸¸å“åº”äº†ã€‚

## @Next

å½“ä½ æœ‰ä¸¤ä¸ª handler æ¥å¤„ç†åŒä¸€ä¸ªè·¯ç”±çš„æ—¶å€™ï¼Œå¯ä»¥åœ¨ç¬¬ä¸€ä¸ª handler é‡Œæ³¨å…¥ nextï¼Œè°ƒç”¨å®ƒæ¥æŠŠè¯·æ±‚è½¬å‘åˆ°ç¬¬äºŒä¸ª handlerã€‚

```typescript
  @Get('/hello')
  async getHello1(@Next() next: NextFunction) {
    console.log('getHello1');
    const a = await next();
    // the code below will not be executed
    console.log('â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” a:', a); // undefined
    return '123';
  }
  @Get('/hello')
  async getHello2() {
    console.log('getHello2');
    return this.appService.getHello();
  }
```

è¿™é‡Œçš„ log æ‰“å°ç»“æœä¸ºï¼š

```bash
getHello1
getHello2
â€”â€”â€”â€”â€”â€”ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ â€”â€” a: undefined
```

æ³¨å…¥ @Next çš„ handler ä¸ä¼šå¤„ç†è¿”å›å€¼ï¼Œæ‰€ä»¥ä¸Šé¢ä»£ç ä¸­çš„ `123`ä¸ä¼šè¢«è¿”å›ã€‚

## @HttpCode

handler é»˜è®¤è¿”å›çš„æ˜¯ 200 çš„çŠ¶æ€ç ï¼Œä½ å¯ä»¥é€šè¿‡ @HttpCode ä¿®æ”¹å®ƒï¼š

```typescript
  @Get('/hello')
  @HttpCode(202)
  getHello() {
    return this.appService.getHello();
  }
```

![image-20231006122759324](https://raw.githubusercontent.com/18888628835/image-cloud/main/assets202310061227406.png)

## @Header

ä¿®æ”¹ response Header

```tsx
  @Get('/hello')
  @Header('reference', 'nest')
  getHello() {
    return this.appService.getHello();
  }
```

![image-20231006123121732](https://raw.githubusercontent.com/18888628835/image-cloud/main/assets202310061231804.png)

## @Redirect

å°†è·¯ç”±é‡å®šå‘åˆ°å…¶ä»– url ä¸Šã€‚

```typescript
  @Get('/hello')
  @Redirect('/hello2')
  getHello() {}

  @Get('/hello2')
  getHello2() {
    return this.appService.getHello();
  }
```

![Oct-06-2023 12-36-15](https://raw.githubusercontent.com/18888628835/image-cloud/main/assets202310061236151.gif)

## @Render

ä½¿ç”¨@Render å¯ä»¥ç»™å“åº”å†…å®¹æŒ‡å®šæ¸²æŸ“æ¨¡ç‰ˆï¼Œä¸è¿‡éœ€è¦å…ˆå®‰è£…æ¨¡ç‰ˆå¼•æ“çš„åŒ… hbs

```bash
pnpm install hbs
```

ç„¶åå‡†å¤‡å›¾ç‰‡å’Œæ¨¡ç‰ˆæ–‡ä»¶

![image-20231006131528209](https://raw.githubusercontent.com/18888628835/image-cloud/main/assets202310061315288.png)

`home.hbs` å†…å†™å…¥æ¸²æŸ“æ¨¡ç‰ˆ

```html
<img src="/nature.jpg" />
<p>{{name}}</p>
<div>{{age}}</div>
```

å†åˆ†åˆ«æŒ‡å®šé™æ€èµ„æºçš„è·¯å¾„å’Œæ¨¡ç‰ˆçš„è·¯å¾„ï¼Œå¹¶æŒ‡å®šæ¨¡ç‰ˆå¼•æ“ä¸º handlerbarsã€‚

```typescript
import { NestFactory } from '@nestjs/core'
import { NestExpressApplication } from '@nestjs/platform-express'
import { AppModule } from './app.module'
import { join } from 'path'

async function bootstrap() {
  const app = await NestFactory.create<NestExpressApplication>(AppModule)
  app.useStaticAssets(join(process.cwd(), 'public'))
  app.setBaseViewsDir(join(process.cwd(), 'views'))
  app.setViewEngine('hbs')
  await app.listen(3000)
}
bootstrap()
```

æœ€ååœ¨ handler ä¸­ä½¿ç”¨@Render è£…é¥°å™¨æŒ‡å®šä½¿ç”¨å“ªä¸ªæ¨¡ç‰ˆ

```jsx
  @Get('/hello')
  @Render('home')
  getHello() {
    return { name: 'qyx', age: 18 };
  }
```

æ•ˆæœå¦‚ä¸‹ï¼š

![image-20231006131901856](https://raw.githubusercontent.com/18888628835/image-cloud/main/assets202310061319941.png)

## æ€»ç»“

- @Moduleï¼š å£°æ˜ Nest æ¨¡å—
- @Controllerï¼šå£°æ˜æ¨¡å—é‡Œçš„ controller
- @Injectableï¼šå£°æ˜æ¨¡å—é‡Œå¯ä»¥æ³¨å…¥çš„ provider
- @Injectï¼šé€šè¿‡ token æ‰‹åŠ¨æŒ‡å®šæ³¨å…¥çš„ providerï¼Œtoken å¯ä»¥æ˜¯ class æˆ–è€… string
- @Optionalï¼šå£°æ˜æ³¨å…¥çš„ provider æ˜¯å¯é€‰çš„ï¼Œå¯ä»¥ä¸ºç©º
- @Globalï¼šå£°æ˜å…¨å±€æ¨¡å—
- @Catchï¼šå£°æ˜ exception filter å¤„ç†çš„ exception ç±»å‹
- @UseFiltersï¼šè·¯ç”±çº§åˆ«ä½¿ç”¨ exception filter
- @UsePipesï¼šè·¯ç”±çº§åˆ«ä½¿ç”¨ pipe
- @UseInterceptorsï¼šè·¯ç”±çº§åˆ«ä½¿ç”¨ interceptor
- @SetMetadataï¼šåœ¨ class æˆ–è€… handler ä¸Šæ·»åŠ  metadata
- @Getã€@Postã€@Putã€@Deleteã€@Patchã€@Optionsã€@Headï¼šå£°æ˜ getã€postã€putã€deleteã€patchã€optionsã€head çš„è¯·æ±‚æ–¹å¼
- @Paramï¼šå–å‡º url ä¸­çš„å‚æ•°ï¼Œæ¯”å¦‚ /aaa/:id ä¸­çš„ id
- @Query: å–å‡º query éƒ¨åˆ†çš„å‚æ•°ï¼Œæ¯”å¦‚ /aaa?name=xx ä¸­çš„ name
- @Bodyï¼šå–å‡ºè¯·æ±‚ bodyï¼Œé€šè¿‡ dto class æ¥æ¥æ”¶
- @Headersï¼šå–å‡ºæŸä¸ªæˆ–å…¨éƒ¨è¯·æ±‚å¤´
- @Sessionï¼šå–å‡º session å¯¹è±¡ï¼Œéœ€è¦å¯ç”¨ express-session ä¸­é—´ä»¶
- @HostParmï¼š å–å‡º host é‡Œçš„å‚æ•°
- @Reqã€@Requestï¼šæ³¨å…¥ request å¯¹è±¡
- @Resã€@Responseï¼šæ³¨å…¥ response å¯¹è±¡ï¼Œä¸€æ—¦æ³¨å…¥äº†è¿™ä¸ª Nest å°±ä¸ä¼šæŠŠè¿”å›å€¼ä½œä¸ºå“åº”äº†ï¼Œé™¤éæŒ‡å®š passthrough ä¸º true
- @Nextï¼šæ³¨å…¥è°ƒç”¨ä¸‹ä¸€ä¸ª handler çš„ next æ–¹æ³•
- @HttpCodeï¼š ä¿®æ”¹å“åº”çš„çŠ¶æ€ç 
- @Headerï¼šä¿®æ”¹å“åº”å¤´
- @Redirectï¼šæŒ‡å®šé‡å®šå‘çš„ url
- @Renderï¼šæŒ‡å®šæ¸²æŸ“ç”¨çš„æ¨¡ç‰ˆå¼•æ“
